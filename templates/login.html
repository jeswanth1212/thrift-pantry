<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- ICONS -->
    <script
      src="https://kit.fontawesome.com/64d58efce2.js"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">


    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles/css/style-login.css') }}">

    <title>Login & Registration</title>
    
    <!-- FLASH MESSAGES -->
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <ul class="flashes">
        {% for category, message in messages %}
          <li class="{{ category }}">{{ message }}</li>
        {% endfor %}
      </ul>
    {% endif %}
    {% endwith %}
  </head>
  <body>
    <div class="container">
      <div class="forms-container">
        <div class="signin-signup">

          <!-- LOGIN FORM -->
          <form method="POST" action="{{ url_for('login_page') }}" class="sign-in-form">
            {{ forml.hidden_tag() }}
            <h2 class="title">Sign in</h2>
            <div class="input-fieldd">
              <i class="fas fa-user"></i>
              {{ forml.storename(placeholder="Store Name") }}
            </div>
            <div class="input-fieldd">
              <i class="fas fa-lock"></i>
              {{ forml.password(placeholder="Password") }}
            </div>
            {{ forml.submit(class='btn solid') }}

            <p class="social-text">Or Sign in with social platforms</p>
            <div class="social-media">
              <a href="#" class="social-icon">
                  <i class="fab fa-facebook-f"></i>
              </a>
              <a href="#" class="social-icon">
                  <i class="fab fa-twitter"></i>
              </a>
              <a href="#" class="social-icon">
                  <i class="fab fa-google"></i>
              </a>
              <a href="#" class="social-icon">
                  <i class="fab fa-linkedin-in"></i>
              </a>
          </div>
          
          </form>
          <!-- LOGIN FORM ENDS -->

          <!-- REGISTRATION FORM -->
          <form method="POST" action="{{ url_for('register_page') }}" class="sign-up-form">
            {{ form.hidden_tag() }}
            <h2 class="title">Sign up</h2>
        
            <div class="input-field">
                <i class="fas fa-user"></i>
                {{ form.storename(placeholder="Store Name") }}
            </div>
        
            <!-- Store Type dropdown trigger -->
            <div class="input-field">
              <i class="fas fa-list"></i>
              <select id="store-type-select" name="store_type" class="dropdown">
                  <option value="" disabled selected>Select Store Type</option>
                  <option value="Restaurant">Restaurant</option>
                  <option value="Cafe">Cafe</option>
                  <option value="Buffet restaurant">Buffet restaurant</option>
                  <option value="Hotel">Hotel</option>
                  <option value="Bakery">Bakery</option>
                  <option value="Supermarket">Supermarket</option>
                  <option value="Fruit & vegetable store">Fruit & vegetable store</option>
                  <option value="Sweets and Savouries">Sweets and Savouries</option>
              </select>
          </div>
          

        
            <div class="input-field">
                <i class="fas fa-map-marker-alt"></i>
                {{ form.address(placeholder="Address") }}
            </div>
        
            <div class="input-field">
                <i class="fas fa-mobile-alt"></i>
                {{ form.phone_number(placeholder="Phone Number") }}
            </div>
        
            <div class="input-field">
                <i class="fas fa-lock"></i>
                {{ form.password1(placeholder="Password") }}
            </div>
            <div class="input-field">
                <i class="fas fa-lock"></i>
                {{ form.password2(placeholder="Confirm Password") }}
            </div>
        
            {{ form.submit(class='btn') }}

            <p class="social-text">Or Sign up with social platforms</p>
            <div class="social-media">
              <a href="#" class="social-icon">
                  <i class="fab fa-facebook-f"></i>
              </a>
              <a href="#" class="social-icon">
                  <i class="fab fa-twitter"></i>
              </a>
              <a href="#" class="social-icon">
                  <i class="fab fa-google"></i>
              </a>
              <a href="#" class="social-icon">
                  <i class="fab fa-linkedin-in"></i>
              </a>
          </div>
          
          </form>
          <!-- REGISTRATION FORM ENDS -->
        </div>
      </div>

      <div class="panels-container">
        <!-- LOGIN PANEL -->
        <div class="panel left-panel">
          <div class="content">
            <h3>New here?</h3>
            <p>
              Register yourself to access our services.
            </p>
            <button class="btn transparent" id="sign-up-btn">
              Sign up
            </button>
          </div>
          <img src="{{ url_for('static', filename='styles/img/log.svg') }}" class="image" alt="login image" />
        </div>

        <!-- REGISTER PANEL -->
        <div class="panel right-panel">
          <div class="content">
            <h3>One of us?</h3>
            <p>
              Already registered? Then hop on & access our services.
            </p>
            <button class="btn transparent" id="sign-in-btn">
              Sign in
            </button>
          </div>
          <img src="{{ url_for('static', filename='styles/img/register.svg') }}" class="image" alt="register image" />
        </div>
      </div>
    </div>

    <!-- JAVASCRIPT -->
    <script src="{{ url_for('static', filename='styles/js/login.js') }}"></script>
    <script>
     // Toggle dropdown visibility inside the input field
document.getElementById("dropdown-trigger").addEventListener("click", function() {
  const parentField = this.parentElement;
  parentField.classList.toggle("active");
});

// When selecting an option, update the trigger text to show the selected value
document.getElementById("store-type-select").addEventListener("change", function() {
  const selectedOption = this.options[this.selectedIndex].text;
  document.getElementById("dropdown-trigger").textContent = selectedOption;
  this.parentElement.parentElement.classList.remove("active");  // Hide the dropdown after selection
});

  </script>
  

  </body>
</html>
